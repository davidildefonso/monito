<!doctype html>

<head>
	<link rel="stylesheet" href="game.css"  >
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+P+One&family=Tajawal:wght@200;300;400;500;700;800;900&display=swap" rel="stylesheet">
	<script src="code/chapter/16_game.js"></script>
	<script src="code/levels.js"></script>
	<script src="code/chapter/17_canvas.js"></script>
</head>



<body>


	<div id ="menu" >
		<div>MONITO </div>
		<div>
			<button id="botonplay" onclick="playGame()"  >
				<img src="img/plataforma monito play.png" />
			</button>			
			<audio id="musica" src="Media/music.mp3"  ></audio>
			<audio id="jump" src="Media/cartoon-jump-6462.mp3"  ></audio>
			<audio id="coin" src="Media/collectcoin-6075.mp3"  ></audio>
			<audio id="lost" src="Media/negative_beeps-6008.mp3"  ></audio>
			<audio id="winlevel" src="Media/winfantasia-6912.mp3"  ></audio>
		</div>
	</div>

	<div id="principal"   >
		<div  id="info" >lives: <span  	id="lives" ></span>  </div>
		<div id="canvas"></div>
	</div>

	<div id="menu-final" >
		<div>
			<button id="boton-restart" onclick="restart()"  >
				<img src="img/retry.png"  />
			</button>		
			<button id="boton-menu" onclick="home()"  >
				<img src="img/menu plataforma monito.png"  />
			</button>		
		</div>
	</div>

  <script>
	let 	audioGame = document.getElementById("musica")
	let audioJump  = document.getElementById("jump")
	let audioCoin = document.getElementById("coin")
	let audioWin  = document.getElementById("winlevel");
	let audioLost  = document.getElementById("lost");

	let musicInterval

	function playGame(){
		document.getElementById("principal").style.display = "flex"			
		document.getElementById("menu").style.display = "none"	
		
		runGame(GAME_LEVELS, CanvasDisplay);
	}

	function endGame(){
		audioGame.pause();
		audioGame.currentTime = 0;
		clearInterval(musicInterval)
		document.getElementById("principal").style.display = "none"
		document.getElementById("menu-final").style.display = "flex"
		lives = 6;
	}

	function restart(){
		document.getElementById("principal").style.display = "flex"			
		document.getElementById("menu-final").style.display = "none"		
		
		runGame(GAME_LEVELS, CanvasDisplay);

	}

	function home(){
		document.getElementById("menu").style.display = "flex"			
		document.getElementById("menu-final").style.display = "none"
	}

	function restartAudio(){
		audioGame.pause();
		audioGame.currentTime = 0;
		audioGame.play()
	}



  </script>
</body>
