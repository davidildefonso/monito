<!doctype html>

<head>
	<link rel="stylesheet" href="game.css"  >
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+P+One&family=Tajawal:wght@200;300;400;500;700;800;900&display=swap" rel="stylesheet">
	<script src="code/chapter/16_game.js"></script>
	<script src="code/levels.js"></script>
	<script src="code/chapter/17_canvas.js"></script>
</head>



<body>


	<div id ="menu" >
		<div>
			<button id="botonplay" onclick="play()"  >
				<img src="img/plataforma monito play.png" />
			</button>			
			<audio id="musica" src="Media/music.mp3"  ></audio>
		</div>
	</div>

	<div id="principal"   >
		<div  id="info" >lives: <span  	id="lives" ></span>  </div>
		<div id="canvas"></div>
	</div>

	<div id="menu-final" >
		<div>
			<button id="boton-restart" onclick="restart()"  >Restart</button>		
			<button id="boton-menu" onclick="home()"  >Menu</button>		
		</div>
	</div>

  <script>
	let audio;
	function play(){
		document.getElementById("principal").style.display = "block"			
		document.getElementById("menu").style.display = "none"
		audio = document.getElementById("musica")
		audio.play()	
		setInterval(restartAudio,33000)
		runGame(GAME_LEVELS, CanvasDisplay);
	}

	function endGame(){
		audio.pause();
		audio.currentTime = 0;
		clearInterval(restartAudio)
		document.getElementById("principal").style.display = "none"
		document.getElementById("menu-final").style.display = "block"
		lives = 2;
	}

	function restart(){
		document.getElementById("principal").style.display = "block"			
		document.getElementById("menu-final").style.display = "none"
		audio = document.getElementById("musica")
		audio.play()
		runGame(GAME_LEVELS, CanvasDisplay);

	}

	function home(){
		document.getElementById("menu").style.display = "block"			
		document.getElementById("menu-final").style.display = "none"
	}

	function restartAudio(){
		audio.pause();
		audio.currentTime = 0;
		audio.play()
	}



  </script>
</body>
